---
import Button from "../Button/Button.astro";
---

<Button id="nav-burger" ariaLabel="Navigation menu toggle">
  <svg
    slot="icon"
    xmlns="http://www.w3.org/2000/svg"
    width="16"
    height="16"
    fill="currentColor"
    class="burger-icon"
    viewBox="0 0 16 16"
  >
    <path
      fill-rule="evenodd"
      d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"
    ></path>
  </svg>
</Button>

<script>
  const navLinks = document.querySelector(".nav-links");
  const navBurger = document.getElementById("nav-burger");
  const onNavClick = () => {
    if (navLinks) {
      navLinks.classList.toggle("expanded");
    }
  };
  const onDocClick = (e) => {
    if (!navLinks || !navBurger || navBurger.contains(e.target)) return;
    if (!navLinks.contains(e.target)) {
      navLinks.classList.remove("expanded");
    }
  };

  if (navBurger) {
    navBurger.addEventListener("click", onNavClick);
    document.addEventListener("click", onDocClick);
  }
</script>
